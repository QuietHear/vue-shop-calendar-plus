(function(b,g){typeof exports=="object"&&typeof module<"u"?module.exports=g(require("vue")):typeof define=="function"&&define.amd?define(["vue"],g):(b=typeof globalThis<"u"?globalThis:b||self,b.vueShopCalendarPlus=g(b.Vue))})(this,function(b){"use strict";const g=[19416,19168,42352,21717,53856,55632,91476,22176,39632,21970,19168,42422,42192,53840,119381,46400,54944,44450,38320,84343,18800,42160,46261,27216,27968,109396,11104,38256,21234,18800,25958,54432,59984,28309,23248,11104,100067,37600,116951,51536,54432,120998,46416,22176,107956,9680,37584,53938,43344,46423,27808,46416,86869,19872,42416,83315,21168,43432,59728,27296,44710,43856,19296,43748,42352,21088,62051,55632,23383,22176,38608,19925,19152,42192,54484,53840,54616,46400,46752,103846,38320,18864,43380,42160,45690,27216,27968,44870,43872,38256,19189,18800,25776,29859,59984,27480,23232,43872,38613,37600,51552,55636,54432,55888,30034,22176,43959,9680,37584,51893,43344,46240,47780,44368,21977,19360,42416,86390,21168,43312,31060,27296,44368,23378,19296,42726,42208,53856,60005,54576,23200,30371,38608,19195,19152,42192,118966,53840,54560,56645,46496,22224,21938,18864,42359,42160,43600,111189,27936,44448,84835,37744,18936,18800,25776,92326,59984,27424,108228,43744,37600,53987,51552,54615,54432,55888,23893,22176,42704,21972,21200,43448,43344,46240,46758,44368,21920,43940,42416,21168,45683,26928,29495,27296,44368,84821,19296,42352,21732,53600,59752,54560,55968,92838,22224,19168,43476,42192,53584,62034,54560],j=["9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd0b06bdb0722c965ce1cfcc920f","b027097bd097c36b0b6fc9274c91aa","9778397bd19801ec9210c965cc920e","97b6b97bd19801ec95f8c965cc920f","97bd09801d98082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd197c36c9210c9274c91aa","97b6b97bd19801ec95f8c965cc920e","97bd09801d98082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec95f8c965cc920e","97bcf97c3598082c95f8e1cfcc920f","97bd097bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c3598082c95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf97c359801ec95f8c965cc920f","97bd097bd07f595b0b6fc920fb0722","9778397bd097c36b0b6fc9210c8dc2","9778397bd19801ec9210c9274c920e","97b6b97bd19801ec95f8c965cc920f","97bd07f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c920e","97b6b97bd19801ec95f8c965cc920f","97bd07f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c91aa","97b6b97bd19801ec9210c965cc920e","97bd07f1487f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c965cc920e","97bcf7f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b97bd19801ec9210c9274c920e","97bcf7f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c91aa","97b6b97bd197c36c9210c9274c920e","97bcf7f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c8dc2","9778397bd097c36c9210c9274c920e","97b6b7f0e47f531b0723b0b6fb0722","7f0e37f5307f595b0b0bc920fb0722","7f0e397bd097c36b0b6fc9210c8dc2","9778397bd097c36b0b70c9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e37f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc9210c8dc2","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9274c91aa","97b6b7f0e47f531b0723b0787b0721","7f0e27f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c91aa","97b6b7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","9778397bd097c36b0b6fc9210c8dc2","977837f0e37f149b0723b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f5307f595b0b0bc920fb0722","7f0e397bd097c35b0b6fc9210c8dc2","977837f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0721","7f0e37f1487f595b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc9210c8dc2","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd097c35b0b6fc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0787b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0b0bb0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14998082b0723b06bd","7f07e7f0e37f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e397bd07f595b0b0bc920fb0722","977837f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f1487f595b0b0bb0b6fb0722","7f0e37f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e37f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e37f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f1487f531b0b0bb0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0723b06bd","7f07e7f0e47f149b0723b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14998082b0723b06bd","7f07e7f0e37f14998083b0787b0721","7f0e27f0e47f531b0723b0b6fb0722","7f0e37f0e366aa89801eb072297c35","7ec967f0e37f14898082b0723b02d5","7f07e7f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e36665b66aa89801e9808297c35","665f67f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b0721","7f07e7f0e47f531b0723b0b6fb0722","7f0e36665b66a449801e9808297c35","665f67f0e37f14898082b0723b02d5","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e36665b66a449801e9808297c35","665f67f0e37f14898082b072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e26665b66a449801e9808297c35","665f67f0e37f1489801eb072297c35","7ec967f0e37f14998082b0787b06bd","7f07e7f0e47f531b0723b0b6fb0721","7f0e27f1487f531b0b0bb0b6fb0722"],H=["甲","乙","丙","丁","戊","己","庚","辛","壬","癸"],A=["子","丑","寅","卯","辰","巳","午","未","申","酉","戌","亥"],N=["小寒","大寒","立春","雨水","惊蛰","春分","清明","谷雨","立夏","小满","芒种","夏至","小暑","大暑","立秋","处暑","白露","秋分","寒露","霜降","立冬","小雪","大雪","冬至"],O=["鼠","牛","虎","兔","龙","蛇","马","羊","猴","鸡","狗","猪"],U=["日","一","二","三","四","五","六","七","八","九","十"],W=["初","十","廿","卅"],P=["正","二","三","四","五","六","七","八","九","十","冬","腊"],M=["零","一","二","三","四","五","六","七","八","九","十"],Y={"1.1":"春节","1.15":"元宵节","5.5":"端午节","7.7":"七夕节","8.15":"中秋节","9.9":"重阳节","12.30":"除夕"},_={"1.1":"元旦","2.14":"情人节","3.8":"妇女节","5.1":"劳动节","5.4":"青年节","10.1":"国庆节","12.25":"圣诞节"},q=e=>{let l=348;for(let t=32768;t>8;t>>=1)l+=g[e-1900]&t?1:0;return l+I(e)},I=e=>K(e)?g[e-1900]&65536?30:29:0,K=e=>g[e-1900]&15,G=(e,l)=>l>12||l<1?-1:g[e-1900]&65536>>l?30:29,S=e=>H[e%10]+A[e%12],B=(e,l)=>{if(e<1900||e>2100||l<1||l>24)return-1;const t=j[e-1900],c=[parseInt("0x"+t.substr(0,5)).toString(),parseInt("0x"+t.substr(5,5)).toString(),parseInt("0x"+t.substr(10,5)).toString(),parseInt("0x"+t.substr(15,5)).toString(),parseInt("0x"+t.substr(20,5)).toString(),parseInt("0x"+t.substr(25,5)).toString()],x=[c[0].substr(0,1),c[0].substr(1,2),c[0].substr(3,1),c[0].substr(4,2),c[1].substr(0,1),c[1].substr(1,2),c[1].substr(3,1),c[1].substr(4,2),c[2].substr(0,1),c[2].substr(1,2),c[2].substr(3,1),c[2].substr(4,2),c[3].substr(0,1),c[3].substr(1,2),c[3].substr(3,1),c[3].substr(4,2),c[4].substr(0,1),c[4].substr(1,2),c[4].substr(3,1),c[4].substr(4,2),c[5].substr(0,1),c[5].substr(1,2),c[5].substr(3,1),c[5].substr(4,2)];return parseInt(x[l-1])},R=e=>O[(e-4)%12],Z=e=>{const l=parseInt(e/1e3),t=parseInt(e%1e3/100),c=parseInt(e%100/10),x=e%10;return M[l]+M[t]+M[c]+M[x]+"年"},L=e=>e>12||e<1?-1:P[e-1]+"月",C=e=>{let l;switch(e){case 10:l="初十";break;case 20:l="二十";break;case 30:l="三十";break;default:l=W[Math.floor(e/10)],l+=U[e%10]}return l},J=(e,l,t)=>{if(e<1900||e>2100||e==1900&&l==1&&t<31)return-1;let c=new Date;e&&(c=new Date(e,l-1,t));let x=1900,o=0;e=c.getFullYear(),l=c.getMonth()+1,t=c.getDate();let n=(Date.UTC(c.getFullYear(),c.getMonth(),c.getDate())-Date.UTC(1900,0,31))/864e5;for(;x<2101&&n>0;x++)o=q(x),n-=o;n<0&&(n+=o,x--);let y=K(x),D=!1,r=1;for(;r<13&&n>0;r++)y>0&&r==y+1&&D==!1?(--r,D=!0,o=I(x)):o=G(x,r),D==!0&&r==y+1&&(D=!1),n-=o;n==0&&y>0&&r==y+1&&(D?D=!1:(D=!0,--r)),n<0&&(n+=o,--r);const u=n+1;let V=l-1,E=B(e,3),T=S(e-4),p=new Date(e,1,E).getTime();new Date(e,V,t).getTime()<p&&(T=S(e-5));const $=B(e,l*2-1),d=B(e,l*2);let a=S((e-1900)*12+l+11);t>=$&&(a=S((e-1900)*12+l+12));let f=!1,i="";$==t&&(f=!0,i=N[l*2-2]),d==t&&(f=!0,i=N[l*2-1]);const s=Date.UTC(e,V,1,0,0,0,0)/864e5+25567+10,h=S(s+t-1);let k=!1;return(_[l+"."+t]||Y[r+"."+u])&&(k=!0),{animal:R(x),cnYear:Z(x),cnMonth:(D&&y===r?"闰":"")+L(r),cnDay:C(u),gzYear:T+"年",gzMonth:a+"月",gzDay:h+"日",isLeap:D,isTerm:f,isHoliday:k,outStr:k?_[l+"."+t]||Y[r+"."+u]:f?i:C(u)==="初一"?(D&&y===r?"闰":"")+L(r):C(u)}},s0="",Q={class:"vue-shop-calendar-plus"},X={class:"calendar-top"},v={class:"middle-msg"},b0={class:"calendar-center"},e0={class:"calendar-bottom"},f0=["onClick"],c0={class:"item-tit"},a0={key:1,class:"work-txt"},t0={key:2,class:"rest-txt"},l0={class:"item-div-content"},d0=[{__name:"index",props:{modelValue:{type:String,default:""},i18n:{type:Boolean,default:!1},firstDay:{type:Number,default:1},props:{type:Object,default:()=>({})},hidSolar:{type:Boolean,default:!1},workDay:{type:Array,default:()=>[]},restDay:{type:Array,default:()=>[]},diyDay:{type:Array,default:()=>[]}},emits:["update:modelValue","change"],setup(e,{emit:l}){const t=e,c=b.ref({workDayKey:t.props.workDayKey||"",restDayKey:t.props.restDayKey||"",diyDayDayKey:t.props.diyDayDayKey||"day",diyDayDesKey:t.props.diyDayDesKey||"des"});let x=b.ref([]),o=b.ref([]),n=b.ref({year:"",month:"",valFullTime:""});const y=b.ref(42),D=d=>d%4===0?d%100===0?d%400===0:!0:!1,r=(d,a)=>{switch(a){case 1:case 3:case 5:case 7:case 8:case 10:case 12:return 31;case 2:return D(d)?29:28;case 4:case 6:case 9:case 11:return 30}},u=d=>{const a=new Date(d);return{year:a.getFullYear(),month:a.getMonth()+1,day:a.getDate(),weekDay:a.getDay(),fullTime:`${a.getFullYear()}-${a.getMonth()+1}-${a.getDate()}`,valFullTime:`${a.getFullYear()}-${a.getMonth()+1>9?a.getMonth()+1:"0"+(a.getMonth()+1)}-${a.getDate()>9?a.getDate():"0"+a.getDate()}`,inMonth:!1,solarData:J(a.getFullYear(),a.getMonth()+1,a.getDate())}},V=()=>{const d=t.i18n?["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]:["一","二","三","四","五","六","日"];let a=t.firstDay-1;for(let f=0;f<7;f++,a++)a>6&&(a=0),x.value.push(d[a])},E=(d,a)=>{o.value=[];for(let m=0;m<r(d,a);m++){let w=u(`${d}-${a}-${m+1}`);w.inMonth=!0,o.value.push(w)}let f=d,i=a-1,s=o.value[0].weekDay-t.firstDay;i===0&&(f=d-1,i=12),s<0&&(s+=7);for(let m=0;m<s;m++){let w=u(`${f}-${i}-${r(f,i)-m}`);o.value.unshift(w)}let h=d,k=a+1,n0=y.value-o.value.length;k===13&&(h=d+1,k=1);for(let m=0;m<n0;m++){let w=u(`${h}-${k}-${m+1}`);o.value.push(w)}},T=d=>{(n.value.year!==d.year||n.value.month!==d.month)&&E(d.year,d.month),n.value={...d},l("change",d,{startTime:o.value[0].valFullTime,endTime:o.value[y.value-1].valFullTime})},p=async(d,a)=>{let f=null;if(a===1)f={...d};else{let i=n.value.year,s=n.value.month;s+=d,s>12?(s=1,i+=1):s<1&&(s=12,i-=1),f={...u(`${i}-${s}-1`)}}await l("update:modelValue",f.valFullTime),t.modelValue||T(f)},F=b.ref(u(new Date().toLocaleDateString())),$=b.computed(()=>`${n.value.year}${t.i18n?"-":"年"}${n.value.month>9?"":"0"}${n.value.month}${t.i18n?"":"月"}`);return b.watch(()=>t.modelValue,()=>{T(u(t.modelValue))}),V(),t.modelValue?T(u(t.modelValue)):p(u(new Date().toLocaleDateString()),1),(d,a)=>(b.openBlock(),b.createElementBlock("div",Q,[b.createElementVNode("div",X,[b.createElementVNode("div",{class:"left-btn",onClick:a[0]||(a[0]=f=>p(-1,2))},"<"),b.createElementVNode("div",v,[b.createTextVNode(b.toDisplayString(b.unref($))+" ",1),b.unref(n).fullTime!==b.unref(F).fullTime?(b.openBlock(),b.createElementBlock("div",{key:0,class:"other-msg",onClick:a[1]||(a[1]=f=>p(b.unref(F),1))}," 今 ")):b.createCommentVNode("",!0)]),b.createElementVNode("div",{class:"right-btn",onClick:a[2]||(a[2]=f=>p(1,2))},">")]),b.createElementVNode("div",b0,[(b.openBlock(!0),b.createElementBlock(b.Fragment,null,b.renderList(b.unref(x),(f,i)=>(b.openBlock(),b.createElementBlock("div",{class:"item",key:i},b.toDisplayString(f),1))),128))]),b.createElementVNode("div",e0,[(b.openBlock(!0),b.createElementBlock(b.Fragment,null,b.renderList(b.unref(o),(f,i)=>(b.openBlock(),b.createElementBlock("div",{class:b.normalizeClass(["item",f.day<9?"samll-num":"",f.valFullTime===b.unref(F).valFullTime?"is-today":"",f.valFullTime===b.unref(n).valFullTime?"select":"",f.weekDay===6||f.weekDay===0?"rest":"",f.inMonth?"":"not-in-month"]),key:i,onClick:s=>f.valFullTime===b.unref(n).valFullTime?null:p(f,1)},[b.createElementVNode("div",c0,[b.createTextVNode(b.toDisplayString(f.day)+" ",1),e.hidSolar?b.createCommentVNode("",!0):(b.openBlock(),b.createElementBlock("div",{key:0,class:b.normalizeClass(["solar-day",f.solarData.isHoliday?"else":""])},b.toDisplayString(f.solarData.outStr),3)),(b.unref(c).workDayKey?e.workDay.findIndex(s=>s[b.unref(c).workDayKey]===f.valFullTime)!==-1:e.workDay.indexOf(f.valFullTime)!==-1)?(b.openBlock(),b.createElementBlock("div",a0,b.toDisplayString(e.i18n?"work":"班"),1)):b.createCommentVNode("",!0),(b.unref(c).restDayKey?e.restDay.findIndex(s=>s[b.unref(c).restDayKey]===f.valFullTime)!==-1:e.restDay.indexOf(f.valFullTime)!==-1)?(b.openBlock(),b.createElementBlock("div",t0,b.toDisplayString(e.i18n?"rest":"休"),1)):b.createCommentVNode("",!0)]),b.createElementVNode("div",l0,[b.renderSlot(d.$slots,"dateCell",{date:f,data:{isToday:f.valFullTime===b.unref(F).valFullTime,isSelected:f.valFullTime===b.unref(n).valFullTime,isRest:f.weekDay===6||f.weekDay===0,isInMonth:f.inMonth}},()=>[(b.openBlock(!0),b.createElementBlock(b.Fragment,null,b.renderList(e.diyDay.filter(s=>s[b.unref(c).diyDayDayKey]===f.valFullTime),(s,h)=>(b.openBlock(),b.createElementBlock("div",{key:h},b.toDisplayString(h+1)+". "+b.toDisplayString(s[b.unref(c).diyDayDesKey]),1))),128))])])],10,f0))),128))])]))}}],z={install(e){d0.forEach(l=>{e.component("vueShopCalendarPlus",l)})}};return typeof window<"u"&&window.Vue&&window.Vue.use(z),z});
